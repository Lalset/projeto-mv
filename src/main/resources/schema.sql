CREATE TABLE CLIENTE (
    ID_CLIENTE NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(100) NOT NULL,
    CPF VARCHAR2(11),
    CNPJ VARCHAR2(14),
    TIPO CHAR(2) CHECK (TIPO IN ('PF', 'PJ')),
    TELEFONE VARCHAR2(20),
    DATA_CADASTRO DATE DEFAULT SYSDATE
);

CREATE TABLE ENDERECO (
    ID_ENDERECO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_CLIENTE NUMBER NOT NULL,
    RUA VARCHAR2(100),
    NUMERO VARCHAR2(10),
    CIDADE VARCHAR2(50),
    ESTADO VARCHAR2(2),
    CEP VARCHAR2(10),
    FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE(ID_CLIENTE)
);

CREATE TABLE CONTA (
    ID_CONTA NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_CLIENTE NUMBER NOT NULL,
    BANCO VARCHAR2(50),
    AGENCIA VARCHAR2(10),
    NUMERO_CONTA VARCHAR2(20),
    ATIVA CHAR(1) DEFAULT 'S',
    FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE(ID_CLIENTE)
);

CREATE TABLE MOVIMENTACAO (
    ID_MOV NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_CONTA NUMBER NOT NULL,
    TIPO CHAR(1) CHECK (TIPO IN ('E','S')), 
    VALOR NUMBER(10,2) NOT NULL,
    DATA_MOV DATE DEFAULT SYSDATE,
    FOREIGN KEY (ID_CONTA) REFERENCES CONTA(ID_CONTA)
);
